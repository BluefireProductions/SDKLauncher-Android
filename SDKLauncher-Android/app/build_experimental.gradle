apply plugin: 'com.android.model.application'

model {
    android {
        compileSdkVersion = 24
        buildToolsVersion = "24.0.2"

        defaultConfig.with {
            applicationId="org.readium.sdk.android.launcher"
            minSdkVersion.apiLevel   = 24
            targetSdkVersion.apiLevel = 24
        }
    }

    android.sources {
        main {
            jniLibs {
                dependencies {
                    project ":epub3"
                    project ":lcp"
                }
            }
        }
        main {
            java {
                source {
                    srcDirs = [
                            './src/main/java',
                            '../../readium-sdk/Platform/Android/lib/src/main/java',
                            '../../readium-lcp-client/platform/android/lib/src/main/java'
                    ]
                }
            }
        }
    }

    android.buildTypes {
        debug {
            minifyEnabled = false
        }
        release {
            minifyEnabled = false
            proguardFiles.add(file('proguard-rules.txt'))
        }
    }

    android.productFlavors {
        create ("arm") {
            ndk.with {
                abiFilters.add("armeabi-v7a")
            }
        }
        create ("x86") {
            ndk.with {
                abiFilters.add("x86")
            }
        }
    }
}
